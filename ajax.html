<!DOCTYPE html>
<html>
	<head>
		<title>Push Post Delete Functions</title>
		<style>
			textarea {
				outline: none;
				resize: none;
				width: 400px;
				height: 400px;
			}
			 #options_bar {
				padding: 10px;
			}
		</style>
		<script>
		
			//code to populate currencies list
		
			var xhttp;
			xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				myFunction(this);
			}};
			xhttp.open("GET", "currencies.xml", true);
			xhttp.send();
		 
			function myFunction(xml) {
			var x, i, xmlDoc; 
			xmlDoc = xml.responseXML;
			x = xmlDoc.getElementsByTagName("ccode");
			var sel = document.getElementById('currencies');

			//add each currency to the <select> html
			for (i = 0; i < x.length; i++) { 
				var opt = document.createElement('option');
				opt.appendChild( document.createTextNode(x[i].childNodes[0].nodeValue) );
				opt.value = x[i].childNodes[0].nodeValue;
				sel.appendChild(opt); 
				}
			}
		
		
			// code to send and recieve data to php update
			var url;
			function loadDoc(url) {
				var xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange = function() {
					if (this.readyState == 4 && this.status == 200) {
					document.getElementById("response_text_box").innerHTML = this.responseText;
					console.log(this.responseText);
					}};
				xhttp.open("GET", url, true);
				xhttp.send();
			}
         
			function sendRequest() {  
				val = document.querySelector('input[name="update"]:checked').id;
				cur = document.getElementById('currencies');
				url = 'update/index.php?cur='+cur.value+'&action='+val;
				loadDoc(url);
			}
		</script>
	</head>
	<body>
		<div id="options_bar">
			<select id="currencies"></select>
			<input type="radio" id="post" name="update"> Post
			<input type="radio" id="put" name="update"> Put
			<input type="radio" id="del" name="update"> Delete
			<button type="button" onclick="sendRequest()">Submit</button>
		</div>
		<div id="results_section">
			<form>
				<textarea id="response_text_box"></textarea>
			</form>
		</div>
   </body>
</html>